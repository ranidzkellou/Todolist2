import ESM_COMPAT_Module from 'node:module';
import { fileURLToPath } from 'node:url';
import { dirname } from 'node:path';
import { deprecate } from 'storybook/internal/node-logger';
import remarkGfm from 'remark-gfm';
import { dedent } from 'ts-dedent';

const __filename = fileURLToPath(import.meta.url);
dirname(__filename);
ESM_COMPAT_Module.createRequire(import.meta.url);
var mdxLoaderOptions=async config=>(config.mdxCompileOptions.remarkPlugins=config.mdxCompileOptions.remarkPlugins||[],config.mdxCompileOptions.remarkPlugins.push(remarkGfm),config);deprecate(dedent`
  The "@storybook/addon-mdx-gfm" addon is meant as a migration assistant for Storybook 8.0; and will likely be removed in a future version.
  It's recommended you read this document:
  https://storybook.js.org/docs/writing-docs/mdx#markdown-tables-arent-rendering-correctly

  Once you've made the necessary changes, you can remove the addon from your package.json and storybook config.
`);

export { mdxLoaderOptions };
